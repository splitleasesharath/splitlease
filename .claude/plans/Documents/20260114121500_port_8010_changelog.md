# Port 8010 Dev Server - Changelog

**Date:** 2026-01-14
**Branch:** tac2 â†’ main
**Type:** Feature Addition

## Summary

Added npm scripts for deterministic port 8010 dev server control. Enables automation workflows without permission prompts or dynamic port issues.

## Files Changed

### 1. NEW: app/scripts/kill-port.js

Cross-platform script to kill processes on any port.

**Platform Support:**
- Windows: netstat + taskkill
- Unix/Mac: lsof + kill -9

**Usage:** node scripts/kill-port.js <port>

### 2. MODIFIED: app/package.json

Added 3 new scripts:

```json
"dev:test": "vite --port 8010 --strictPort"
"dev:test:stop": "node scripts/kill-port.js 8010"
"dev:test:restart": "bun run dev:test:stop && bun run dev:test"
```

## Commands Added

### bun run dev:test
Starts Vite on port 8010 with strict port enforcement

### bun run dev:test:stop  
Kills any process on port 8010

### bun run dev:test:restart
Clean restart (stop + start)

## Benefits

- Deterministic port (always 8010)
- No permission prompts in browser automation
- Cross-platform compatibility
- Clean state management

## Git Commands

```bash
# Stage
git add app/scripts/kill-port.js app/package.json

# Commit
git commit -m "feat(dev-server): Add port 8010 test server scripts

- Add kill-port.js for cross-platform port cleanup
- Add dev:test, dev:test:stop, dev:test:restart scripts
- Supports automation workflows with deterministic port

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"

# Push to tac2
git push origin tac2

# Create PR to main
gh pr create --base main --head tac2 \
  --title "feat(dev-server): Add port 8010 test server scripts" \
  --body "Adds npm scripts for deterministic dev server on port 8010. See commit for details."
```

## Testing Checklist

- [ ] bun run dev:test starts on port 8010
- [ ] bun run dev:test:stop kills process
- [ ] bun run dev:test:restart does clean restart
- [ ] Verify --strictPort fails if port busy
- [ ] Test on Windows
- [ ] No permission prompts in browser automation

## Future Work (Separate PR)

These scripts are standalone. Future integration:
- Update adw_modules/config.py to use port 8010
- Update orchestrator to use dev:test scripts
- Simplify DevServerManager (remove dynamic detection)

## Rollback

```bash
rm app/scripts/kill-port.js
git checkout app/package.json
git commit -m "Revert: Remove port 8010 scripts"
```
