# Cloudflare Pages redirects and rewrites
# See: https://developers.cloudflare.com/pages/configuration/redirects/

# Handle view-split-lease page with clean URL structure
# Maps /view-split-lease/[listing-id] to view-split-lease.html
# The 200 status makes this a rewrite, not a redirect, keeping the URL intact
# IMPORTANT: Do NOT create a Cloudflare Function for this route!
# Functions conflict with _redirects and cause the listing ID to be lost.
# Route all view-split-lease requests to listing-page.html
# Using a differently named file to avoid Cloudflare's "smart" URL normalization
/view-split-lease  /_internal/listing-view  200
/view-split-lease/  /_internal/listing-view  200
/view-split-lease/*  /_internal/listing-view  200

# Handle account-profile page with clean URL structure
# Maps /account-profile/[user-id] to account-profile.html
/account-profile/*  /account-profile.html  200

# Handle self-listing page
/self-listing.html  /self-listing.html  200

# Handle guest-proposals page
/guest-proposals.html  /guest-proposals.html  200

# Handle search page
/search.html  /search.html  200

# Handle FAQ page
/faq.html  /faq.html  200

# Handle Help Center pages
# Using internal files without .html extension to avoid Cloudflare's "pretty URL" normalization
# which causes 308 redirects and redirect loops
/help-center  /_internal/help-center-view  200
/help-center/  /_internal/help-center-view  200
/help-center/*  /_internal/help-center-category-view  200

# Handle policies page
/policies.html  /policies.html  200

# Handle why-split-lease page
/why-split-lease.html  /why-split-lease.html  200

# Homepage
/  /index.html  200
/index.html  /index.html  200

# Note: Cloudflare Pages automatically serves /404.html for not found routes
# No explicit catch-all rule needed - native 404.html support handles this
